---
phase: 04-ui-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - components/setting-modal/setting-modal.vue
autonomous: true
must_haves:
  truths:
    - "Setting modal nested areas use CSS variables (no hardcoded rgba)"
    - "WebDAV sync area shows '即将推出', inputs disabled, with brief explanation"
  artifacts:
    - path: components/setting-modal/setting-modal.vue
      provides: "Settings modal with design-system-compliant styles and WebDAV placeholder UI"
      contains: "var(--glass-bg)", "即将推出", "disabled"
  key_links:
    - from: components/setting-modal/setting-modal.vue
      to: entrypoints/newtab/styles/variables.css
      via: "var(--glass-bg), var(--text-muted)"
      pattern: "var\\(--"
---

<objective>
Replace hardcoded rgba in setting-modal.vue with CSS variables (UIPL-01) and add WebDAV "即将推出" placeholder UI with disabled inputs and brief explanation (UIPL-02).

Purpose: Align settings modal and WebDAV area with the design system (AGENTS.md); satisfy v1 scope (no WebDAV sync logic).

Output: Updated setting-modal.vue with design-system-compliant styles and WebDAV coming-soon UI.
</objective>

<execution_context>
@/home/whj/.claude/get-shit-done/workflows/execute-plan.md
@/home/whj/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-ui-polish/04-RESEARCH.md
@AGENTS.md
@components/setting-modal/setting-modal.vue
@entrypoints/newtab/styles/variables.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace hardcoded rgba with CSS variables (UIPL-01)</name>
  <files>components/setting-modal/setting-modal.vue</files>
  <action>
    Replace both occurrences of `background: rgba(0, 0, 0, 0.05)` in setting-modal.vue with `background: var(--glass-bg)`:
    1. In `.sub-settings` (lines ~139-147) — nested area for wallpaper provider and interval
    2. In `.webdav-settings` (lines ~149-157) — nested area for WebDAV inputs

    Use `var(--glass-bg)` per RESEARCH recommendation and AGENTS.md design tokens. Do NOT add new CSS variables or modify variables.css.

    After change: grep for `rgba(` in setting-modal.vue must return no matches.

  </action>
  <verify>grep "rgba(" components/setting-modal/setting-modal.vue → no output (exit 1 = no matches, success)</verify>
  <done>Both .sub-settings and .webdav-settings use var(--glass-bg); no hardcoded rgba remains in setting-modal.vue</done>
</task>

<task type="auto">
  <name>Task 2: WebDAV coming-soon UI (UIPL-02)</name>
  <files>components/setting-modal/setting-modal.vue</files>
  <action>
    In the WebDAV section of setting-modal.vue:
    1. Update `section-desc` text to include "即将推出" prominently — e.g. "即将推出，敬请期待" or "该功能即将推出，敬请期待" (per Claude's discretion on exact wording, keep brief).
    2. Add `disabled` to all three n-input components for WebDAV: url, username, password (lines ~47, 51, 55). Use `disabled` attribute (Vue treats as true).

    Do NOT: add save logic for webdav, implement sync, change handleSave behavior. Per locked decision: v1 no WebDAV sync, UI placeholder only.

  </action>
  <verify>
    1. Open settings modal in dev:web; WebDAV area shows "即将推出" text
    2. All three WebDAV inputs have disabled attribute (inspect or assert they are not editable)
  </verify>
  <done>WebDAV sync area displays "即将推出" explanation; all three inputs are disabled and non-editable</done>
</task>

</tasks>

<verification>
1. **UIPL-01**: `grep -n "rgba(" components/setting-modal/setting-modal.vue` returns no matches
2. **UIPL-02**: WebDAV section shows "即将推出" text; url, username, password inputs have `disabled` and are non-editable
3. **Regression**: Enable wallpaper → sub-settings visible with correct background; theme switch (data-theme) → nested areas follow theme; search bar/wallpaper settings still save correctly
</verification>

<success_criteria>

- [ ] No `rgba(` in setting-modal.vue; nested areas use `var(--glass-bg)`
- [ ] WebDAV area shows "即将推出" and brief explanation; three inputs disabled
- [ ] Wallpaper sub-settings, theme switch, and save behavior work as before
      </success_criteria>

<output>
After completion, create `.planning/phases/04-ui-polish/04-01-SUMMARY.md`
</output>
